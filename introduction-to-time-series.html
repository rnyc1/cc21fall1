<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 29 Introduction to Time Series | EDAV Fall 2021 Mon/Wed Community Contributions</title>
<meta name="author" content="the students of the class">
<meta name="description" content="Parth Gupta (pg2677) I am writing a tutorial for time series forecasting and I will be covering all the classical techniques to do time series forecasting.  29.1 Motivation, Modeling temporal...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 29 Introduction to Time Series | EDAV Fall 2021 Mon/Wed Community Contributions">
<meta property="og:type" content="book">
<meta property="og:description" content="Parth Gupta (pg2677) I am writing a tutorial for time series forecasting and I will be covering all the classical techniques to do time series forecasting.  29.1 Motivation, Modeling temporal...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 29 Introduction to Time Series | EDAV Fall 2021 Mon/Wed Community Contributions">
<meta name="twitter:description" content="Parth Gupta (pg2677) I am writing a tutorial for time series forecasting and I will be covering all the classical techniques to do time series forecasting.  29.1 Motivation, Modeling temporal...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/plotly-binding-4.10.0/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script><link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet">
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script><script src="libs/dygraphs-1.1.1/shapes.js"></script><script src="libs/moment-2.8.4/moment.js"></script><script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script><script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script><script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script><script src="libs/d3-5.16.0/d3.min.js"></script><script src="libs/forceNetwork-binding-0.4/forceNetwork.js"></script><link href="libs/parallel-coordinates-2.1.8/parcoords.css" rel="stylesheet">
<script src="libs/parcoords-binding-1.0.0/parcoords.js"></script><script src="libs/detect-resize-0.5.3/jquery.resize.js"></script><link href="libs/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet">
<script src="libs/jquery-ui-1.11.4/jquery-ui.min.js"></script><script src="libs/vega-1.4.3/vega.min.js"></script><script src="libs/lodash-2.2.1/lodash.min.js"></script><script>var lodash = _.noConflict();</script><link href="libs/ggvis-0.4.7/css/ggvis.css" rel="stylesheet">
<script src="libs/ggvis-0.4.7/js/ggvis.js"></script><script src="libs/dendroNetwork-binding-0.4/dendroNetwork.js"></script><link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet">
<script src="libs/str_view-binding-1.4.0/str_view.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">EDAV Fall 2021 Mon/Wed Community Contributions</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Welcome!</a></li>
<li><a class="" href="community-contribution.html"><span class="header-section-number">2</span> Community Contribution</a></li>
<li><a class="" href="github-submission-instructions.html"><span class="header-section-number">3</span> GitHub submission instructions</a></li>
<li><a class="" href="sample-project.html"><span class="header-section-number">4</span> Sample project</a></li>
<li class="book-part">Data Visualizations</li>
<li><a class="" href="introduction-to-the-lattice-package.html"><span class="header-section-number">5</span> Introduction to the lattice package</a></li>
<li><a class="" href="graph-animation-with-gganimate-and-after-effects.html"><span class="header-section-number">6</span> Graph animation with gganimate and After Effects</a></li>
<li><a class="" href="interactive-plots.html"><span class="header-section-number">7</span> Interactive Plots</a></li>
<li><a class="" href="create-regression-assumption-plots-in-word.html"><span class="header-section-number">8</span> Create regression assumption plots in Word</a></li>
<li><a class="" href="from-neo4j-to-rstudio.html"><span class="header-section-number">9</span> From Neo4j to RStudio</a></li>
<li><a class="" href="stacked-bar-plot-for-relative-proportions-in-python.html"><span class="header-section-number">10</span> Stacked Bar Plot For Relative Proportions In Python</a></li>
<li><a class="" href="interactive-plot-introduction.html"><span class="header-section-number">11</span> Interactive plot introduction</a></li>
<li><a class="" href="introduction-to-longitudinal-data-and-mlgm-package.html"><span class="header-section-number">12</span> Introduction to Longitudinal Data and MLGM Package</a></li>
<li class="book-part">R Package Tutorial</li>
<li><a class="" href="tidyverse_cheatsheet.html"><span class="header-section-number">13</span> Tidyverse_cheatsheet</a></li>
<li><a class="" href="use-of-ggprism-and-ggsci-packages.html"><span class="header-section-number">14</span> Use of ggprism and ggsci packages</a></li>
<li><a class="" href="parallel-coordinates-plot-cheatsheet.html"><span class="header-section-number">15</span> Parallel coordinates plot cheatsheet</a></li>
<li><a class="" href="cheatsheet-tidyverse.html"><span class="header-section-number">16</span> Cheatsheet Tidyverse</a></li>
<li><a class="" href="common-r-markdown-syntax-cheatsheet.html"><span class="header-section-number">17</span> Common R markdown syntax cheatsheet</a></li>
<li><a class="" href="rpackage-waffle-cheatsheet.html"><span class="header-section-number">18</span> Rpackage waffle cheatsheet</a></li>
<li class="book-part">Topics in Data Science</li>
<li><a class="" href="a-linear-regression-bestiary.html"><span class="header-section-number">19</span> A linear regression Bestiary</a></li>
<li><a class="" href="r-cheatsheet-on-data-transforamtion-and-exploration.html"><span class="header-section-number">20</span> R cheatsheet on data transforamtion and exploration</a></li>
<li><a class="" href="r-data-science-workflow-cheatsheet.html"><span class="header-section-number">21</span> R Data Science Workflow CheatSheet</a></li>
<li><a class="" href="questions-answers-for-r-technical-interview.html"><span class="header-section-number">22</span> 30 questions &amp; answers for r technical interview</a></li>
<li><a class="" href="graphql-cheat-sheet.html"><span class="header-section-number">23</span> GraphQL Cheat Sheet</a></li>
<li><a class="" href="r-vs-python-basic-data-wrangling.html"><span class="header-section-number">24</span> R vs Python Basic Data Wrangling</a></li>
<li><a class="" href="r-vs.-python-visualization-cheatsheet.html"><span class="header-section-number">25</span> R vs.Â Python Visualization Cheatsheet</a></li>
<li class="book-part">Tutorials</li>
<li><a class="" href="multithreading-crawler-frame.html"><span class="header-section-number">26</span> Multithreading Crawler Frame</a></li>
<li><a class="" href="regression-and-classification-in-r.html"><span class="header-section-number">27</span> Regression and Classification in R</a></li>
<li><a class="" href="tibble-vs.-dataframe.html"><span class="header-section-number">28</span> Tibble vs.Â DataFrame</a></li>
<li><a class="active" href="introduction-to-time-series.html"><span class="header-section-number">29</span> Introduction to Time Series</a></li>
<li><a class="" href="vipul-edav-community-contribution-kickstart-r.html"><span class="header-section-number">30</span> Vipul EDAV Community Contribution Kickstart R</a></li>
<li><a class="" href="caret---a-machine-learning-package-turotial.html"><span class="header-section-number">31</span> caret - a machine learning package turotial</a></li>
<li><a class="" href="streamlit-for-financial-analysis.html"><span class="header-section-number">32</span> Streamlit for Financial Analysis</a></li>
<li><a class="" href="interactive-graphs-tutorial.html"><span class="header-section-number">33</span> Interactive graphs tutorial</a></li>
<li><a class="" href="guideline-on-using-package-rcurl-and-xml-for-web-scraping.html"><span class="header-section-number">34</span> Guideline on Using Package Rcurl and XML for Web Scraping</a></li>
<li><a class="" href="twitter-r-package-scraping-via-api-tutorial.html"><span class="header-section-number">35</span> TwitteR R Package Scraping via API Tutorial</a></li>
<li><a class="" href="introduction-to-data-manipulation.html"><span class="header-section-number">36</span> Introduction to Data Manipulation</a></li>
<li><a class="" href="animating-the-plots-in-r.html"><span class="header-section-number">37</span> Animating the plots in R</a></li>
<li><a class="" href="quick-guide-to-eda.html"><span class="header-section-number">38</span> Quick guide to eda</a></li>
<li><a class="" href="natural-langauge-processing-common-eda-practices-in-python.html"><span class="header-section-number">39</span> Natural Langauge Processing Common EDA Practices in Python</a></li>
<li><a class="" href="beginners-walk-through-of-deep-learning-in-r.html"><span class="header-section-number">40</span> Beginnerâs Walk-through of Deep Learning in R</a></li>
<li><a class="" href="supervised-learning-tutorial.html"><span class="header-section-number">41</span> Supervised Learning Tutorial</a></li>
<li><a class="" href="parallel-coordinate-plots-in-ggplot2.html"><span class="header-section-number">42</span> Parallel Coordinate Plots in ggplot2</a></li>
<li><a class="" href="using-ggplot-in-python.html"><span class="header-section-number">43</span> Using ggplot in python</a></li>
<li><a class="" href="icons-and-symbols-in-r.html"><span class="header-section-number">44</span> Icons and symbols in R</a></li>
<li><a class="" href="exploratory-data-analysis-and-preprocessing-with-r-for-data-challenges.html"><span class="header-section-number">45</span> Exploratory data analysis and preprocessing with R for data challenges</a></li>
<li><a class="" href="introduction-to-git-bash.html"><span class="header-section-number">46</span> Introduction to Git Bash</a></li>
<li><a class="" href="tutorial-for-six-basic-graphs-by-using-ggplot.html"><span class="header-section-number">47</span> Tutorial for six basic graphs by using ggplot</a></li>
<li><a class="" href="web-scrapping-using-beautifulsoup-and-its-equivalent-in-rvest.html"><span class="header-section-number">48</span> Web Scrapping using BeautifulSoup and its Equivalent in rvest</a></li>
<li><a class="" href="d-visualization-shinyaframe-introduction-and-tutorial.html"><span class="header-section-number">49</span> 3D visualization: shinyaframe introduction and tutorial</a></li>
<li><a class="" href="efficient-dimension-reduction-with-umap.html"><span class="header-section-number">50</span> Efficient dimension reduction with UMAP</a></li>
<li><a class="" href="functional-programming-with-purrr.html"><span class="header-section-number">51</span> Functional Programming with Purrr</a></li>
<li><a class="" href="radial-bar-chart-and-other-interesting-graphs.html"><span class="header-section-number">52</span> Radial bar chart and other interesting graphs</a></li>
<li><a class="" href="analyze-data-stored-in-aws-s3-using-r.html"><span class="header-section-number">53</span> Analyze data stored in AWS S3 using R</a></li>
<li><a class="" href="introduction-to-flexdashboard-and-shiny.html"><span class="header-section-number">54</span> Introduction to flexdashboard and shiny</a></li>
<li class="book-part">Demonstrations</li>
<li><a class="" href="linear-association-r-studio-plugin.html"><span class="header-section-number">55</span> Linear Association R Studio Plugin</a></li>
<li><a class="" href="customized-sorting-in-r.html"><span class="header-section-number">56</span> Customized Sorting in R</a></li>
<li><a class="" href="low-key-ml-packages-in-r.html"><span class="header-section-number">57</span> Low-key ML packages in R</a></li>
<li><a class="" href="parallel-coordinate-plots-cheatsheet.html"><span class="header-section-number">58</span> Parallel coordinate plots cheatsheet</a></li>
<li><a class="" href="crime-analysis-around-columbia.html"><span class="header-section-number">59</span> Crime Analysis around Columbia</a></li>
<li class="book-part">Workshops</li>
<li><a class="" href="data-science-product-cycles-in-enterprises.html"><span class="header-section-number">60</span> Data Science Product Cycles in Enterprises</a></li>
<li><a class="" href="mapreduce-concept-comparision-with-r.html"><span class="header-section-number">61</span> MapReduce Concept &amp; Comparision With R</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="github-initial-setup.html"><span class="header-section-number">62</span> Github initial setup</a></li>
<li><a class="" href="tutorial-for-pull-request-mergers.html"><span class="header-section-number">63</span> Tutorial for pull request mergers</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/jtr13/cc21fall1">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="introduction-to-time-series" class="section level1">
<h1>
<span class="header-section-number">29</span> Introduction to Time Series<a class="anchor" aria-label="anchor" href="#introduction-to-time-series"><i class="fas fa-link"></i></a>
</h1>
<p>Parth Gupta (pg2677)</p>
<p>I am writing a tutorial for time series forecasting and I will be covering all the classical techniques to do time series forecasting.</p>
<div id="motivation" class="section level2">
<h2>
<span class="header-section-number">29.1</span> Motivation,<a class="anchor" aria-label="anchor" href="#motivation"><i class="fas fa-link"></i></a>
</h2>
<p>Modeling temporal processes has always been one of the most important problems. Because it has a wide variety of applications, ranging from stock price prediction to weather forecasting to forecasting web traffic on a website.</p>
<p>We have three types of temporal data,</p>
<ol style="list-style-type: decimal">
<li><p>Time Series</p></li>
<li><p>Panel</p></li>
<li><p>Cross Sectional</p></li>
</ol>
<p>In time series data we have one individual which is observed at different time steps. In Panel data we have multiple individuals that are observed at different time steps. In Cross sectional data we have different individuals observed at same time step.</p>
<p>Time series analysis comprises methods for analyzing time series data in order to extract meaningful statistics and other characteristics of the data. Time series forecasting is the use of a model to predict future values based on previously observed values. Time series forecasting is very useful because it has a lot of real life applications.</p>
<p>Visualizing a time series data is very important because then we will be able to get a much better understanding of the underlying patterns in the data. Like the trends if there is an increase or decrease in price of an item with time, seasonal changes like people watch movies more on weekends. How far is the prediction from the actual truth.</p>
<div class="sourceCode" id="cb344"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span><span class="va">births</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/scan.html">scan</a></span><span class="op">(</span><span class="st">"http://robjhyndman.com/tsdldata/data/nybirths.dat"</span><span class="op">)</span>
<span class="va">data</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">72</span><span class="op">]</span>
<span class="va">future</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fl">73</span><span class="op">:</span><span class="fl">84</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] 26.663 23.598 26.931 24.740 25.806 24.364 24.477 23.901 23.175 23.227
## [11] 21.672 21.870 21.439 21.089 23.709 21.669 21.752 20.761 23.479 23.824
## [21] 23.105 23.110 21.759 22.073 21.937 20.035 23.590 21.672 22.222 22.123
## [31] 23.950 23.504 22.238 23.142 21.059 21.573 21.548 20.000 22.424 20.615
## [41] 21.761 22.874 24.104 23.748 23.262 22.907 21.519 22.025 22.604 20.894
## [51] 24.677 23.673 25.320 23.583 24.671 24.454 24.122 24.252 22.084 22.991
## [61] 23.287 23.049 25.076 24.037 24.430 24.667 26.451 25.618 25.014 25.110
## [71] 22.964 23.981</code></pre>
<div class="sourceCode" id="cb346"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">time_series</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.html">ts</a></span><span class="op">(</span><span class="va">data</span>, start<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1946</span>, <span class="fl">1</span><span class="op">)</span>, end<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1951</span>, <span class="fl">12</span><span class="op">)</span>, frequency<span class="op">=</span><span class="fl">12</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">time_series</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="introduction_to_time_series_files/figure-html/unnamed-chunk-2-1.png" width="672" style="display: block; margin: auto;"></div>
<p>I am using the birth per month dataset. I will tune all the parameters of different models based on the training period from Jan 1946 to Dec 1951. I will forecast for the next year. We generally use Mean Absolute Percentage Error or Root Mean Squared Error to evaluate the model.</p>
<p>$$</p>
<p>MAPE = _{i = 0}^{N}|( - y_i)|/ y_i\</p>
<p>RMSE = (_{i = 0}^{N}( - y_i)^2/ N)^{1/2}</p>
<p>$$</p>
<div class="sourceCode" id="cb347"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/stl.html">stl</a></span><span class="op">(</span><span class="va">time_series</span>, s.window<span class="op">=</span><span class="st">"period"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="introduction_to_time_series_files/figure-html/unnamed-chunk-3-1.png" width="672" style="display: block; margin: auto;"></div>
<p>Every time series has three components, trends, seasonality and residuals</p>
<p>Time Series = Trend + Seasonality + Residuals</p>
<ol style="list-style-type: decimal">
<li><p>Trend, it refers to the overall general direction of the data, obtained ignoring any short term effects such as seasonal variations or noise.</p></li>
<li><p>Seasonality, it refers to periodic fluctuations that are repeated throughout all the time series period.</p></li>
<li><p>Residuals, it refers to the left part after trend and seasonality.</p></li>
</ol>
<div class="sourceCode" id="cb348"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/monthplot.html">monthplot</a></span><span class="op">(</span><span class="va">time_series</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="introduction_to_time_series_files/figure-html/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb349"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">seasonplot</span><span class="op">(</span><span class="va">time_series</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="introduction_to_time_series_files/figure-html/unnamed-chunk-4-2.png" width="672" style="display: block; margin: auto;"></div>
<p>In these plots I am trying to visualize the seasonality aspect of the time series data. I have plotted the data for each month for whole training period.</p>
</div>
<div id="stationary-time-series" class="section level2">
<h2>
<span class="header-section-number">29.2</span> Stationary Time Series<a class="anchor" aria-label="anchor" href="#stationary-time-series"><i class="fas fa-link"></i></a>
</h2>
<p>Stationarity is one of the most important concepts in time series forecasting. A stationary time series is one whose properties do not depend on the time at which the series is observed. Thus, time series with trends, or with seasonality, are not stationary â the trend and seasonality will affect the value of the time series at different times. On the other hand, a white noise series is stationary â it does not matter when you observe it, it should look much the same at any point in time.</p>
<p>Differencing is the process of computing the differences between consecutive observations.</p>
<p>We apply log transformations to stabilise the variance of a time series. Differencing can also help in stabilising the mean of a time series by removing changes in the level of a time series, and therefore eliminating (or reducing) trend and seasonality. There are also some tests to check stationarity of a time series.</p>
</div>
<div id="holtwinters-model" class="section level2">
<h2>
<span class="header-section-number">29.3</span> HoltWinters model,<a class="anchor" aria-label="anchor" href="#holtwinters-model"><i class="fas fa-link"></i></a>
</h2>
<p>This model has three parameters alpha, beta and gamma.</p>
<ol style="list-style-type: decimal">
<li><p>alpha: it refers to the âbase valueâ. Higher alpha puts more weight on the most recent observations.</p></li>
<li><p>beta: it corresponds to the âtrend valueâ. Higher beta means the trend slope is more dependent on recent trend slopes.</p></li>
<li><p>gamma: it weighs the âseasonal componentâ. Higher gamma puts more weighting on the most recent seasonal cycles.</p></li>
</ol>
<p>The mathematical formulation is as follows,</p>
<p>$$
{y}<em>{t+h|t} = l_t + hb_t + s</em>{t+h-m(k+1)} \</p>
<p>l_t = (y_t - s_{t-m}) + (1- )*(l_{t-1} + b_{t-1})\</p>
<p>b_t = ^* (l_t - l_{t-1}) + (1-^*)b_{t-1}\</p>
<p>s_t = (y_t - l_{t-1} - b_{t-1}) + (1-)s_{t-m}
$$</p>
<div class="sourceCode" id="cb350"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># simple exponential - models level</span>
<span class="va">fit_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/HoltWinters.html">HoltWinters</a></span><span class="op">(</span><span class="va">time_series</span>, beta<span class="op">=</span><span class="cn">FALSE</span>, gamma<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>
<span class="va">f1</span> <span class="op">=</span> <span class="fu">forecast</span><span class="op">(</span><span class="va">fit_1</span>, <span class="fl">12</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_1</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="introduction_to_time_series_files/figure-html/unnamed-chunk-5-1.png" width="672" style="display: block; margin: auto;"></div>
<p>Letâs start with the simplest model, In this model we will forecast all the future value as the last value only, i.e.</p>
<p>y[t+i] = y[t], where i&gt;=1 and t is the last time step in our training period.</p>
<p>$$</p>
<p>_{T+i} = y_T \
i&gt;=1
$$</p>
<div class="sourceCode" id="cb351"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># double exponential - models level and trend</span>
<span class="va">fit_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/HoltWinters.html">HoltWinters</a></span><span class="op">(</span><span class="va">time_series</span>, gamma<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>
<span class="va">f2</span> <span class="op">=</span> <span class="fu">forecast</span><span class="op">(</span><span class="va">fit_2</span>, <span class="fl">12</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_2</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="introduction_to_time_series_files/figure-html/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;"></div>
<p>Now we can set beta to non zero value so that we can account for trends, In this model we will forecast all the future value as the last value + trend.</p>
<div class="sourceCode" id="cb352"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># triple exponential - models level, trend, and seasonal components</span>
<span class="va">fit_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/HoltWinters.html">HoltWinters</a></span><span class="op">(</span><span class="va">time_series</span><span class="op">)</span>
<span class="va">f3</span> <span class="op">=</span> <span class="fu">forecast</span><span class="op">(</span><span class="va">fit_3</span>, <span class="fl">12</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_3</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="introduction_to_time_series_files/figure-html/unnamed-chunk-7-1.png" width="672" style="display: block; margin: auto;"></div>
<p>Finally, we will set all the three parameters, alpha, beta and gamma to non zero values to account for trend and seasonality both.</p>
<p>Naturally, this model performs better than previous two models.</p>
<div class="sourceCode" id="cb353"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Automated forecasting using an exponential model</span>
<span class="va">fit_4</span> <span class="op">&lt;-</span> <span class="fu">ets</span><span class="op">(</span><span class="va">time_series</span><span class="op">)</span>
<span class="va">f4</span> <span class="op">=</span> <span class="fu">forecast</span><span class="op">(</span><span class="va">fit_4</span>, <span class="fl">12</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_4</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="introduction_to_time_series_files/figure-html/unnamed-chunk-8-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="exponential-smooting" class="section level2">
<h2>
<span class="header-section-number">29.4</span> Exponential Smooting<a class="anchor" aria-label="anchor" href="#exponential-smooting"><i class="fas fa-link"></i></a>
</h2>
<p>In this model, we assign weights to the past observations and we decrease them exponentially as we go back in time. This model ensures to give more weights to the recent observations and less and less weights to older observations</p>
<p>$$
<em>{T+1|T} = y_T + (1-)* y</em>{t-1} + (1-)^2 *y_{t-2} + â¦..\</p>
<p><em>{T+1|T} = </em>{j = 0}<sup>{T-1}(1-)</sup>j<em>y_{T-j} + (1-)^T</em>l_0
$$</p>
</div>
<div id="arima-model" class="section level2">
<h2>
<span class="header-section-number">29.5</span> ARIMA model,<a class="anchor" aria-label="anchor" href="#arima-model"><i class="fas fa-link"></i></a>
</h2>
<p>ARIMA stands for Auto Regressive Integrated Moving Average. It is a generalization of the simpler AutoRegressive Moving Average and adds the notion of integration. Letâs look at each term individually.</p>
<p>AR: Autoregression. it refers to any model that predicts the future values by using past observations.</p>
<p>I: Integrated. We use the concept of differencing of raw observations (e.g.Â subtracting an observation from an observation at the previous time step) in order to make the time series stationary.</p>
<p>MA: Moving Average. it refers to any model that uses the dependency between an observation and a residual error from a moving average model applied to lagged observations.</p>
<p>We need all three parameters to define the model. We use the notation ARIMA(p,d,q).</p>
<p>The parameters of the ARIMA model are defined as follows:</p>
<p>p: The number of lag observations included in the model, also called the lag order.
d: The number of times that the raw observations are differenced, also called the degree of differencing.
q: The size of the moving average window, also called the order of moving average.</p>
<p>If there is a seasonal effect then, it is generally considered better to use a SARIMA (seasonal ARIMA) model than to increase the order of the AR or MA parts of the model.</p>
<div class="sourceCode" id="cb354"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#using an ARIMA model</span>
<span class="va">fit_5</span> <span class="op">&lt;-</span> <span class="fu">Arima</span><span class="op">(</span><span class="va">time_series</span>, order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="va">f5</span> <span class="op">=</span> <span class="fu">forecast</span><span class="op">(</span><span class="va">fit_5</span>, <span class="fl">12</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_5</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="introduction_to_time_series_files/figure-html/unnamed-chunk-9-1.png" width="672" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb355"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#using an ARIMA model</span>
<span class="fu"><a href="https://rdrr.io/r/stats/acf.html">acf</a></span><span class="op">(</span><span class="va">time_series</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="introduction_to_time_series_files/figure-html/unnamed-chunk-10-1.png" width="672" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb356"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/acf.html">pacf</a></span><span class="op">(</span><span class="va">time_series</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="introduction_to_time_series_files/figure-html/unnamed-chunk-10-2.png" width="672" style="display: block; margin: auto;"></div>
<p>Now, it is very difficult to choose values of p, q so we can use Autocorrelation function (ACF), and Partial autocorrelation function (PACF) plots of the series to determine the order of AR and/ or MA terms.</p>
<p>The autocorrelation function (ACF) is a technique that we can use to identify how correlated the values in a time series are with each other. The ACF plots the correlation coefficient against the lag. A lag corresponds to a certain point in time after which we observe the first value in the time series.</p>
<p>Partial autocorrelation is a statistical measure that captures the correlation between two variables after controlling for the effects of other variables.</p>
<div class="sourceCode" id="cb357"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Forecasting using an ARIMA model</span>
<span class="va">fit_6</span> <span class="op">&lt;-</span> <span class="fu">auto.arima</span><span class="op">(</span><span class="va">time_series</span><span class="op">)</span>
<span class="va">f6</span> <span class="op">=</span> <span class="fu">forecast</span><span class="op">(</span><span class="va">fit_6</span>, <span class="fl">12</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_6</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="introduction_to_time_series_files/figure-html/unnamed-chunk-11-1.png" width="672" style="display: block; margin: auto;"></div>
<p>Now, we can use another implementation of ARIMA in R i.e the auto.arima() function which uses a variation of the Hyndman-Khandakar algorithm (Hyndman &amp; Khandakar, 2008). It combines unit root tests, minimisation of the AICc and MLE to obtain an ARIMA model.</p>
<div class="sourceCode" id="cb358"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rmse_1</span> <span class="op">=</span> <span class="fu">accuracy</span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_1</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>
<span class="va">rmse_2</span> <span class="op">=</span> <span class="fu">accuracy</span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_2</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>
<span class="va">rmse_3</span> <span class="op">=</span> <span class="fu">accuracy</span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_3</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>
<span class="va">rmse_4</span> <span class="op">=</span> <span class="fu">accuracy</span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_4</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>
<span class="va">rmse_5</span> <span class="op">=</span> <span class="fu">accuracy</span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_5</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>
<span class="va">rmse_6</span> <span class="op">=</span> <span class="fu">accuracy</span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_6</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>
<span class="va">rmse</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">rmse_1</span>, <span class="va">rmse_2</span>, <span class="va">rmse_3</span>, <span class="va">rmse_4</span>, <span class="va">rmse_5</span>, <span class="va">rmse_6</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html">barplot</a></span><span class="op">(</span><span class="va">rmse</span>, main<span class="op">=</span><span class="st">"RMSE Plot"</span>, xlab<span class="op">=</span><span class="st">"Models"</span>, names.arg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"HW_1"</span>, <span class="st">"HW_2"</span>, <span class="st">"HW_3"</span>, <span class="st">"ETS"</span>, <span class="st">"ARIMA"</span>, <span class="st">"Auto ARIMA"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="introduction_to_time_series_files/figure-html/unnamed-chunk-12-1.png" width="672" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb359"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">MAPE_1</span> <span class="op">=</span> <span class="fu">accuracy</span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_1</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span>
<span class="va">MAPE_2</span> <span class="op">=</span> <span class="fu">accuracy</span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_2</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span>
<span class="va">MAPE_3</span> <span class="op">=</span> <span class="fu">accuracy</span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_3</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span>
<span class="va">MAPE_4</span> <span class="op">=</span> <span class="fu">accuracy</span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_4</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span>
<span class="va">MAPE_5</span> <span class="op">=</span> <span class="fu">accuracy</span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_5</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span>
<span class="va">MAPE_6</span> <span class="op">=</span> <span class="fu">accuracy</span><span class="op">(</span><span class="fu">forecast</span><span class="op">(</span><span class="va">fit_6</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span>
<span class="va">MAPE</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">MAPE_1</span>, <span class="va">MAPE_2</span>, <span class="va">MAPE_3</span>, <span class="va">MAPE_4</span>, <span class="va">MAPE_5</span>, <span class="va">MAPE_6</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html">barplot</a></span><span class="op">(</span><span class="va">MAPE</span>, main<span class="op">=</span><span class="st">"MAPE Plot"</span>, xlab<span class="op">=</span><span class="st">"Models"</span>, names.arg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"HW_1"</span>, <span class="st">"HW_2"</span>, <span class="st">"HW_3"</span>, <span class="st">"ETS"</span>, <span class="st">"ARIMA"</span>, <span class="st">"Auto ARIMA"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="introduction_to_time_series_files/figure-html/unnamed-chunk-13-1.png" width="672" style="display: block; margin: auto;"></div>
<p>We, can clearly see from the above MAPE and RMSE bar plots that Auto ARIMA and ETS have performed the best followed by Holt Winter
model with non zero alpha, beta and gamma.</p>
<p>References,</p>
<ol style="list-style-type: decimal">
<li><p>Hyndman, R.J., &amp; Athanasopoulos, G. (2018) Forecasting: principles and practice, 2nd edition, OTexts: Melbourne,
Australia.OTexts.com/fpp2.</p></li>
<li><p><a href="https://en.wikipedia.org/wiki/Time_series" class="uri">https://en.wikipedia.org/wiki/Time_series</a></p></li>
<li><p><a href="https://www.analyticsvidhya.com/blog/2018/02/time-series-forecasting-methods/" class="uri">https://www.analyticsvidhya.com/blog/2018/02/time-series-forecasting-methods/</a></p></li>
</ol>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="tibble-vs.-dataframe.html"><span class="header-section-number">28</span> Tibble vs.Â DataFrame</a></div>
<div class="next"><a href="vipul-edav-community-contribution-kickstart-r.html"><span class="header-section-number">30</span> Vipul EDAV Community Contribution Kickstart R</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#introduction-to-time-series"><span class="header-section-number">29</span> Introduction to Time Series</a></li>
<li><a class="nav-link" href="#motivation"><span class="header-section-number">29.1</span> Motivation,</a></li>
<li><a class="nav-link" href="#stationary-time-series"><span class="header-section-number">29.2</span> Stationary Time Series</a></li>
<li><a class="nav-link" href="#holtwinters-model"><span class="header-section-number">29.3</span> HoltWinters model,</a></li>
<li><a class="nav-link" href="#exponential-smooting"><span class="header-section-number">29.4</span> Exponential Smooting</a></li>
<li><a class="nav-link" href="#arima-model"><span class="header-section-number">29.5</span> ARIMA model,</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/jtr13/cc21fall1/blob/main/introduction_to_time_series.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/jtr13/cc21fall1/edit/main/introduction_to_time_series.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>EDAV Fall 2021 Mon/Wed Community Contributions</strong>" was written by the students of the class. It was last built on 2021-11-20.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
